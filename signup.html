<div id="signupStep">
  <div style="display:flex; align-items:center; gap:12px; margin-bottom:20px;">
    <img src="https://raw.githubusercontent.com/professionalabidkhan-hue/ABID-KHAN-/main/ABID KHAN.png" 
         alt="Abid Khan" 
         style="width:80px; height:80px; border-radius:12px; object-fit:cover; box-shadow:0 6px 20px rgba(0,0,0,0.1);">
    <h2 style="margin:0; font-size:1.5rem;">Create Account</h2>
  </div>

  <!-- Existing input fields -->
  <input type="text" id="name" placeholder="Full Name" required>
  <input type="email" id="email" placeholder="Email Address" required>
  <input type="password" id="password" placeholder="Password" required>

  <div style="text-align:left; margin-bottom:16px;">
    <label style="display:block; margin-bottom:8px;">
      <input type="radio" name="role" value="student" checked> I want to learn
    </label>
    <label style="display:block;">
      <input type="radio" name="role" value="trainer"> I want to teach
    </label>
  </div>

  <input type="text" id="phone" placeholder="Phone Number" required>
  <button class="btn" onclick="sendCode()">Send Verification Code</button>
</div>

   

<script>
const backendURL = "YOUR_APPS_SCRIPT_WEBAPP_URL"; // replace with your Apps Script URL

// Step 1: Send verification code
function sendCode() {
  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const phone = document.getElementById("phone").value;
  const role = document.querySelector('input[name="role"]:checked').value;

  fetch(backendURL, {
    method: "POST",
    body: JSON.stringify({ action: "signUp", name, email, password, phone, role })
  })
  .then(res => res.json())
  .then(data => {
    if(data.message === "Sign Up successful") {
      // Send verification code
      fetch(backendURL, {
        method: "POST",
        body: JSON.stringify({ action: "sendVerificationCode", email, phone })
      })
      .then(res => res.json())
      .then(resData => {
        alert("Verification code sent to your phone!");
        document.getElementById("signupStep").classList.add("hidden");
        document.getElementById("verifyStep").classList.remove("hidden");
      });
    } else {
      alert(data.message);
    }
  });
}

// Step 2: Verify code
function verifyCode() {
  const email = document.getElementById("email").value;
  const enteredCode = document.getElementById("code").value;

  fetch(backendURL, {
    method: "POST",
    body: JSON.stringify({ action: "verifyCode", email, enteredCode })
  })
  .then(res => res.json())
  .then(data => {
    if(data.success) {
      alert("Phone number verified! Account creation complete.");
      window.location.href = "signin.html"; // redirect after success
    } else {
      alert("Incorrect code, try again.");
    }
  });
}
</script>

</body>
</html>
